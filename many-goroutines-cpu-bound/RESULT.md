# Run benchmark
```shell
hey -d ./payload.bin -n 10000000 -c 600 http://localhost:8080/
```

# Run pprof vis.
```shell
go tool pprof -web ./cpu.prof
```

# Run trace
```shell
go tool trace ./trace_1.out
```

# Вывод
>1. Больше всего времени тратися на ввод вывод из сокетов (это нормально)
>2. 10%+ времени тратится на синхронизацию потоков. 

----

>Для CPU Bound задач следует ограничивать кол-во потоков (горутин), не более чем GOMAXPROCS (+ возможно какой то доп процент, на всякий случай).
>Мотивация этого такова, что в один момент времени на одном конкретной ядре процессора не может выполняться более одной горутины. Таким образом мы уменьшим накладные расходы на планировку.

----

>Для IO Bound задач наоборот нет ограничений. Большинство времени работы горутина может просто простаивать в ожидании ответа из сети/диска. Таким образом
>планировщик может отдать время другим горутинам, чтобы они тоже смогли отправить запрос и встали на ожидание данных.